<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Cookie Consent Manager</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			width: 350px;
			margin: 0;
			padding: 0;
			background-color: #f9f9f9;
		}
		
		.container {
			padding: 15px;
		}
		
		h1 {
			font-size: 18px;
			margin-top: 0;
			color: #333;
		}
		
		.toggle-container {
			display: flex;
			align-items: center;
			margin-bottom: 10px;
		}
		
		.toggle-label {
			flex-grow: 1;
			font-size: 14px;
		}
		
		.toggle {
			position: relative;
			display: inline-block;
			width: 48px;
			height: 24px;
		}
		
		.toggle input {
			opacity: 0;
			width: 0;
			height: 0;
		}
		
		.slider {
			position: absolute;
			cursor: pointer;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background-color: #ccc;
			transition: .4s;
			border-radius: 24px;
		}
		
		.slider:before {
			position: absolute;
			content: "";
			height: 18px;
			width: 18px;
			left: 3px;
			bottom: 3px;
			background-color: white;
			transition: .4s;
			border-radius: 50%;
		}
		
		input:checked + .slider {
			background-color: #673AB7;
		}
		
		input:checked + .slider:before {
			transform: translateX(24px);
		}
		
		/* Tooltip styles */
		.tooltip-container {
			position: relative;
		}
		
		.tooltip-icon {
			display: inline-block;
			width: 16px;
			height: 16px;
			background-color: #673AB7;
			color: white;
			border-radius: 50%;
			text-align: center;
			font-size: 12px;
			line-height: 16px;
			margin-left: 5px;
			cursor: pointer;
		}
		
		.tooltip-text {
			display: none;
			position: absolute;
			background-color: #f9f9f9;
			border: 1px solid #ddd;
			border-radius: 4px;
			padding: 8px;
			width: 220px;
			font-size: 12px;
			color: #333;
			box-shadow: 0 2px 5px rgba(0,0,0,0.2);
			left: 0;
			top: 100%;
			margin-top: 5px;
			z-index: 100;
		}
		
		.tooltip-icon:hover + .tooltip-text {
			display: block;
		}
		
		#status {
			margin-top: 15px;
			padding: 10px;
			border-radius: 5px;
			background-color: #e8f5e9;
			font-size: 13px;
		}
		
		.tabs {
			display: flex;
			border-bottom: 1px solid #ddd;
			background-color: #fff;
			overflow-x: auto;
			white-space: nowrap;
		}
		
		.tab {
			padding: 10px;
			cursor: pointer;
			font-size: 13px;
			position: relative;
			flex-shrink: 0;
		}
		
		.tab.active {
			border-bottom: 2px solid #673AB7;
			color: #673AB7;
			font-weight: bold;
		}
		
		.tab-content {
			display: none;
		}
		
		.tab-content.active {
			display: block;
		}
		
		#dialogCount {
			background-color: #E53935;
			color: white;
			border-radius: 50%;
			width: 16px;
			height: 16px;
			display: none;
			font-size: 12px;
			text-align: center;
			line-height: 16px;
			position: absolute;
			top: 5px;
			right: 5px;
		}
		
		.dialog-item {
			background-color: white;
			margin-bottom: 10px;
			padding: 10px;
			border-radius: 5px;
			box-shadow: 0 1px 3px rgba(0,0,0,0.1);
			cursor: pointer;
		}
		
		.dialog-item:hover {
			background-color: #f5f5f5;
		}
		
		.domain {
			font-weight: bold;
			margin-bottom: 5px;
		}
		
		.method, .date, .region {
			font-size: 12px;
			color: #666;
			margin-bottom: 5px;
		}
		
		.no-dialogs, .no-details {
			text-align: center;
			padding: 20px;
			color: #999;
		}
		
		#dialogPreviewContainer {
			margin-top: 10px;
			padding: 10px;
			background-color: white;
			border-radius: 5px;
			box-shadow: 0 1px 3px rgba(0,0,0,0.1);
			display: none;
		}
		
		#dialogFrame {
			width: 100%;
			height: 250px;
			border: none;
			border-bottom: 1px solid #ddd;
			margin-bottom: 15px;
		}
		
		.rating-buttons {
			display: flex;
			justify-content: space-between;
			margin-top: 10px;
			margin-bottom: 15px;
		}
		
		.rating-buttons button {
			padding: 8px 12px;
			border: none;
			border-radius: 3px;
			cursor: pointer;
		}
		
		#goodMatchBtn {
			background-color: #4CAF50;
			color: white;
		}
		
		#badMatchBtn {
			background-color: #F44336;
			color: white;
		}
		
		#submissionStatus {
			margin-top: 10px;
			margin-bottom: 15px;
			font-size: 13px;
			text-align: center;
			color: #666;
		}
		
		.consent-status {
			font-size: 13px;
			margin-top: 15px;
			padding: 10px;
			border-radius: 5px;
			background-color: #e8f5e9;
			display: flex;
			justify-content: space-between;
			align-items: center;
		}
		
		/* Subscription tab styles */
		.subscription-status {
			background-color: white;
			border-radius: 5px;
			padding: 15px;
			margin-top: 15px;
			box-shadow: 0 1px 3px rgba(0,0,0,0.1);
		}
		
		.status-label {
			font-weight: bold;
			margin-bottom: 5px;
		}
		
		.premium-badge {
			display: inline-block;
			background-color: #673AB7;
			color: white;
			padding: 4px 8px;
			border-radius: 3px;
			font-size: 12px;
			margin-left: 5px;
		}
		
		.free-badge {
			display: inline-block;
			background-color: #9E9E9E;
			color: white;
			padding: 4px 8px;
			border-radius: 3px;
			font-size: 12px;
			margin-left: 5px;
		}
		
		.subscription-description {
			margin: 10px 0;
			color: #666;
			font-size: 13px;
		}
		
		.premium-feature {
			display: flex;
			align-items: center;
			margin-top: 8px;
			font-size: 13px;
		}
		
		.feature-check {
			color: #4CAF50;
			margin-right: 5px;
		}
		
		.stripe-button {
			display: block;
			width: 100%;
			padding: 10px;
			background-color: #673AB7;
			color: white;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			text-align: center;
			margin-top: 15px;
			font-weight: bold;
		}
		
		.subscription-divider {
			margin: 20px 0;
			border-top: 1px solid #ddd;
		}
		
		.payment-button {
			display: block;
			width: 100%;
			padding: 10px;
			background-color: #4CAF50;
			color: white;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			text-align: center;
			margin-top: 15px;
			font-weight: bold;
		}
		
		.settings-section {
			background-color: white;
			border-radius: 5px;
			box-shadow: 0 1px 3px rgba(0,0,0,0.1);
			margin-bottom: 15px;
			overflow: hidden;
		}
		
		.settings-header {
			background-color: #f5f5f5;
			padding: 10px 15px;
			font-weight: bold;
			border-bottom: 1px solid #eee;
			font-size: 14px;
		}
		
		.settings-content {
			padding: 15px;
		}
		
		.pro-badge {
			display: inline-block;
			background-color: #673AB7;
			color: white;
			font-size: 10px;
			padding: 2px 6px;
			border-radius: 10px;
			margin-left: 8px;
			vertical-align: middle;
		}
		
		.premium-overlay {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background-color: rgba(0, 0, 0, 0.05);
			display: flex;
			align-items: center;
			justify-content: center;
			z-index: 10;
		}
		
		.premium-tag {
			background-color: #673AB7;
			color: white;
			padding: 8px 16px;
			border-radius: 20px;
			font-weight: bold;
			font-size: 13px;
			box-shadow: 0 2px 5px rgba(0,0,0,0.2);
		}
		
		/* Cookie detection status styles */
		.cookie-detection-status {
			background-color: white;
			border-radius: 5px;
			box-shadow: 0 1px 3px rgba(0,0,0,0.1);
			margin-bottom: 15px;
			overflow: hidden;
		}
		
		.detection-header {
			padding: 12px 15px;
			font-weight: bold;
			font-size: 14px;
			border-bottom: 1px solid #eee;
			display: flex;
			align-items: center;
			justify-content: space-between;
		}
		
		.detection-content {
			padding: 15px;
			font-size: 13px;
		}
		
		.status-success {
			border-left: 4px solid #4CAF50;
		}
		.status-success .detection-header {
			background-color: #e8f5e9;
			color: #2E7D32;
		}
		
		.status-info {
			border-left: 4px solid #2196F3;
		}
		.status-info .detection-header {
			background-color: #e3f2fd;
			color: #1565C0;
		}
		
		.action-button {
			padding: 5px 10px;
			background-color: #673AB7;
			color: white;
			border: none;
			border-radius: 3px;
			cursor: pointer;
			margin-top: 5px;
		}
	</style>
</head>
<body>
	<div class="tabs">
		<div class="tab active" data-tab="settings">Settings</div>
		<div class="tab" data-tab="history">History <span id="dialogCount"></span></div>
		<div class="tab" data-tab="analyze">Analyze</div>
		<div class="tab" data-tab="account">Account</div>
	</div>
	
	<div class="container">
		<div id="settings" class="tab-content active">
			<h1>Cookie Consent Manager</h1>
			
			<!-- Current page status area -->
			<div class="cookie-detection-status status-info" id="currentPageStatus">
				<div class="detection-header">
					Current Page Status
				</div>
				<div class="detection-content">
					<p>Checking for cookie dialogs on this page...</p>
					<button id="checkCookieBoxes" class="action-button">Scan Page</button>
				</div>
			</div>
			
			<!-- Basic settings section -->
			<div class="settings-section">
				<div class="settings-header">
					Basic Settings
				</div>
				<div class="settings-content">
					<div class="toggle-container tooltip-container">
						<div class="toggle-label">Enabled <span class="tooltip-icon">?</span>
							<span class="tooltip-text">Turns the extension on or off. When disabled, Cookie Consent Manager will not interact with any cookie banners.</span>
						</div>
						<label class="toggle">
							<input type="checkbox" id="enabled" checked>
							<span class="slider"></span>
						</label>
					</div>
					
					<div class="toggle-container tooltip-container">
						<div class="toggle-label">Auto Accept Cookies <span class="tooltip-icon">?</span>
							<span class="tooltip-text">When enabled, automatically clicks accept buttons on cookie consent dialogs without requiring user interaction.</span>
						</div>
						<label class="toggle">
							<input type="checkbox" id="autoAccept" checked>
							<span class="slider"></span>
						</label>
					</div>
					
					<div class="toggle-container tooltip-container" style="margin-bottom: 0;">
						<div class="toggle-label">Local Detection <span class="tooltip-icon">?</span>
							<span class="tooltip-text">Uses advanced pattern recognition to detect and handle cookie consent dialogs across any website. Nothing sent to any server.</span>
						</div>
						<label class="toggle">
							<input type="checkbox" id="smartMode" checked>
							<span class="slider"></span>
						</label>
					</div>
				</div>
			</div>
			
			<!-- Premium features section with overlay -->
			<div class="settings-section" style="position: relative;">
				<div class="settings-header">
					Premium Features <span class="pro-badge">PRO</span>
				</div>
				<div class="settings-content">
					<div class="toggle-container tooltip-container">
						<div class="toggle-label">Cloud Mode <span class="tooltip-icon">?</span>
							<span class="tooltip-text">Uses a database of known cookie selectors to quickly identify common consent dialogs. Requires data collection consent.</span>
						</div>
						<label class="toggle">
							<input type="checkbox" id="cloudMode" disabled>
							<span class="slider"></span>
						</label>
					</div>
					
					<div class="toggle-container tooltip-container">
						<div class="toggle-label">Privacy Mode <span class="tooltip-icon">?</span>
							<span class="tooltip-text">Redacts personal information when submitting cookie dialog ratings to improve the cloud database. Requires data collection consent.</span>
						</div>
						<label class="toggle">
							<input type="checkbox" id="privacyMode" disabled>
							<span class="slider"></span>
						</label>
					</div>
					
					<div class="toggle-container tooltip-container" style="margin-bottom: 0;">
						<div class="toggle-label">Prefer Essential Only <span class="tooltip-icon">?</span>
							<span class="tooltip-text">When enabled, the extension will prioritize selecting 'necessary cookies only' options on cookie consent banners when available, rather than accepting all cookies.</span>
						</div>
						<label class="toggle">
							<input type="checkbox" id="gdprCompliance" disabled>
							<span class="slider"></span>
						</label>
					</div>
				</div>
				<!-- Premium overlay -->
				<div class="premium-overlay">
					<div class="premium-tag">
						Premium Version Coming Soon
					</div>
				</div>
			</div>
			
			<div id="status" style="display: none;"></div>
			
			<!-- Cookie detection status area -->
			<div id="cookieDetectionStatus"></div>
		</div>
		
		<div id="history" class="tab-content">
			<h1>Dialog History</h1>
			<div class="history-controls">
				<select id="historyFilter" class="filter-select">
					<option value="all">All Dialogs</option>
					<option value="reviewed">Reviewed</option>
					<option value="not-reviewed">Not Reviewed</option>
				</select>
				<button id="clearHistory" class="clear-button">Clear History</button>
			</div>
			<div id="historyList"></div>
			<div id="historyDialogPreview" style="display: none;">
				<div id="historyDialogDetails"></div>
				<div id="historyReviewSection"></div>
			</div>
		</div>
		
		<div id="analyze" class="tab-content">
			<h1>Cookie Dialog Analysis</h1>
			<p>Paste the HTML source of a cookie consent box to test the smart formula against it.</p>
			
			<textarea id="sourceInput" placeholder="Paste HTML source here..." rows="10" style="width: 100%; margin-bottom: 15px; padding: 10px; border-radius: 5px; border: 1px solid #ddd;"></textarea>
			
			<button id="analyzeBtn" class="action-button" style="width: 100%;">Analyze Source</button>
			
			<div id="analysisResults" style="margin-top: 15px; display: none;">
				<h3>Analysis Results</h3>
				
				<div class="detail-section">
					<div class="detail-item">
						<strong>Detection:</strong> <span id="detectionResult"></span>
					</div>
					<div class="detail-item">
						<strong>Cookie Terms Found:</strong> <span id="cookieTermsResult"></span>
					</div>
					<div class="detail-item">
						<strong>Buttons Found:</strong> <span id="buttonsResult"></span>
					</div>
					<div class="detail-item">
						<strong>Accept Button:</strong> <span id="acceptButtonResult"></span>
					</div>
					<div class="detail-item">
						<strong>Necessary Button:</strong> <span id="necessaryButtonResult"></span>
					</div>
				</div>
				
				<div class="detail-section">
					<h4>Recommendations</h4>
					<ul id="recommendationsList"></ul>
				</div>
			</div>
		</div>
		
		<div id="account" class="tab-content">
			<h1>Account & Preferences</h1>
			
			<div class="subscription-status">
				<div id="subscriptionStatus">
					<div class="status-label">Current Plan: <span id="planBadge" class="free-badge">Free</span></div>
					<div class="subscription-description">Access premium features to enhance your cookie consent management experience.</div>
					
					<div class="premium-features">
						<div class="premium-feature"><span class="feature-check">✓</span> GDPR Compliant Cookie Management</div>
						<div class="premium-feature"><span class="feature-check">✓</span> Advanced Cookie Tracking Prevention</div>
						<div class="premium-feature"><span class="feature-check">✓</span> Priority Updates & Support</div>
					</div>
					
					<button id="stripeManageButton" class="stripe-button">Manage Subscription</button>
					<button id="paymentButton" class="payment-button">Upgrade to Premium</button>
				</div>
			</div>
			
			<div class="subscription-divider"></div>
			
			<div class="consent-container">
				<h3>Data Collection Consent</h3>
				<div class="subscription-description">
					Help us improve by sharing anonymized data about cookie dialogs.
					No personal information is collected.
				</div>
				
				<div class="consent-status">
					<span id="consentStatus">Data collection is disabled</span>
					<button id="consentToggle" class="action-button">Enable</button>
				</div>
			</div>
			
			<div class="subscription-divider"></div>
			
			<!-- Developer mode section -->
			<div class="toggle-container tooltip-container">
				<div class="toggle-label">Developer Mode <span class="tooltip-icon">?</span>
					<span class="tooltip-text">Enables developer features like the Analyze tab and detailed detection options.</span>
				</div>
				<label class="toggle">
					<input type="checkbox" id="devMode">
					<span class="slider"></span>
				</label>
			</div>
		</div>
	</div>
	
	<script src="popup.js" type="module"></script>
</body>
</html> 